{{ $version := .Get "version" }}
{{ if not $version }}
    {{ errorf "missing value for param 'version': %s" .Position }}
{{ end }}
{{ $flatVersion := replace $version "." "" }}

{{ $date := .Get "date" }}
{{ if not $date }}
    {{ errorf "missing value for param 'date': %s" .Position }}
{{ end }}
{{ if ne (len (split $date "-")) 3 }}
    {{ errorf "invalid number of components for param 'date': %s" .Position }}
{{ end }}

{{ $exclude := split (.Get "exclude") "," }}

<tr>
    <td><a href="https://github.com/pulumi/pulumi/blob/master/CHANGELOG.md#{{ $flatVersion }}-{{ $date }}">{{ $version }}</a></td>
    <td>{{ $date }}</td>
    <td>
        <table class="w-full border-collapse">
            <tbody>
                <tr>
                    <td class="w-1/3 border-r-2 last:border-r-0"><a href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-linux-x64.tar.gz">Linux</a></td>
                    <td class="w-1/3 border-r-2 last:border-r-0"><a href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-darwin-x64.tar.gz">macOS</a></td>
                    <td class="w-1/3 border-r-2 last:border-r-0"><a href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-windows-x64.zip">Windows</a></td>
                </tr>
            </tbody>
        </table>
        <!-- <a class="btn btn-sm" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-linux-x64.tar.gz"><i class="fas fa-download"></i> Linux</a>
        <a class="btn btn-sm" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-darwin-x64.tar.gz"><i class="fas fa-download"></i> macOS</a>
        <a class="btn btn-sm" href="https://get.pulumi.com/releases/sdk/pulumi-v{{ $version }}-windows-x64.zip"><i class="fas fa-download"></i> Windows</a> -->
    </td>
</tr>
