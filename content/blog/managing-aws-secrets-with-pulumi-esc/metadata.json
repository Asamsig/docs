{
    "conversationId": "e2be5f2d-6635-4950-bf4e-e5bfed6efb74",
    "created": "2024-10-26T02:02:33.929Z",
    "prompt": "write a blog post about pulumi esc",
    "slug": "managing-aws-secrets-with-pulumi-esc",
    "title": "# Managing AWS Secrets with Pulumi ESC",
    "summary": "Learn to secure configuration using Pulumi's Encrypted Secrets Configuration (ESC) with AWS Secrets Manager, using TypeScript.",
    "language": "TypeScript",
    "model": "gpt-4o",
    "program": "   mkdir pulumi-esc-demo\n   cd pulumi-esc-demo\n   pulumi new aws-typescript\n   ```\n\n2. **Install the AWS Pulumi Package**:\n   ```sh\n   npm install @pulumi/aws\n   ```\n\n3. **Create a Secret in AWS Secrets Manager**:\n   In your `index.ts` file, add the following code:\n\n   ```typescript\n   import * as pulumi from \"@pulumi/pulumi\";\n   import * as aws from \"@pulumi/aws\";\n\n   // Create a new secret in AWS Secrets Manager\n   const mySecret = new aws.secretsmanager.Secret(\"mySecret\", {\n       description: \"My secret managed by Pulumi\",\n   });\n\n   // Store a secret value\n   const secretValue = new aws.secretsmanager.SecretVersion(\"mySecretValue\", {\n       secretId: mySecret.id,\n       secretString: pulumi.secret(\"mySuperSecretValue\"),\n   });\n\n   // Export the secret ARN\n   export const secretArn = mySecret.arn;\n   ```\n\n   ### Explanation:\n   - We import the necessary Pulumi and AWS packages.\n   - We create a new secret in AWS Secrets Manager using `aws.secretsmanager.Secret`.\n   - We store a secret value using `aws.secretsmanager.SecretVersion` and encrypt it using `pulumi.secret`.\n   - Finally, we export the ARN of the secret for reference.\n\n4. **Run Pulumi Up**:\n   ```sh\n   pulumi up\n   ```\n\n   Pulumi will show you a preview of the changes that will be made. Confirm the changes, and Pulumi will create the secret in AWS Secrets Manager.\n\n5. **Verify the Secret in AWS Console**:\n   Navigate to the AWS Secrets Manager console to verify that the secret has been created and the value is stored securely.\n\n## Conclusion\n\nPulumi ESC provides a powerful way to manage secrets and configuration securely. By leveraging Pulumi's infrastructure as code capabilities, you can ensure that your sensitive information is protected while maintaining the flexibility and ease of use that Pulumi offers.\n\n### Additional Resources:\n- [Pulumi Documentation on Secrets](https://www.pulumi.com/docs/intro/concepts/secrets/)\n- [AWS Secrets Manager](https://aws.amazon.com/secrets-manager/)\n\nThis blog post should give you a good starting point for managing secrets with Pulumi ESC. Happy coding!",
    "url": "https://www.pulumi.com/ai/conversations/e2be5f2d-6635-4950-bf4e-e5bfed6efb74"
}